<div class="container">
  <h2>Create Task</h2>
  <form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="taskName">Task Name:</label>
      <input class="input-field" type="text" id="taskName" name="taskName" placeholder="Enter Task Title"
        formControlName="taskName">
    </div>
    <div class="form-group">
      <label for="taskDescription">Task Description:</label>
      <textarea class="input-field" id="taskDescription" name="taskDescription" placeholder="Enter Task Description"
        formControlName="taskDescription"></textarea>
    </div>
    <div class="form-group">
      <label for="taskStatus">Task Status:</label>
      <select class="input-field" id="taskStatus" name="taskStatus" formControlName="taskStatus">
        <option value="PENDING">Pending</option>
        <option value="ONGOING">Ongoing</option>
        <option value="COMPLETED">Completed</option>
      </select>
    </div>
    <div class="form-group">
      <label for="taskDueDate">Task Due Date:</label>
      <input class="input-field" type="date" id="taskDueDate" formControlName="taskDueDate" [min]="today">
    </div>


    <button type="submit" class="button" [disabled]="!taskForm.valid">Create Task</button>
  </form>


  <div>
    <button class="button" (click)="goToHome()">Back to Home</button>
  </div>
</div>


<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Task Details</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div>
      <label class="modal-label">Task Name:</label>
      <p>{{ modalData?.taskName }}</p>
    </div>
    <div>
      <label class="modal-label">Task Description:</label>
      <p>{{ modalData?.taskDescription }}</p>
    </div>
    <div>
      <label class="modal-label">Task Status:</label>
      <p>{{ modalData?.taskStatus }}</p>
    </div>
    <div>
      <label class="modal-label">Due Date:</label>
      <p>{{ modalData?.taskDueDate }}</p>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="onSubmitModal(modalData)">Confirm</button>
    <button type="button" class="btn btn-secondary" (click)="modal.close('Close click')">Cancel</button>
  </div>


</ng-template>


<ng-template #successModal let-modal>

  <div class="modal-header">
    <h4 class="modal-title">Delete Task</h4>
  </div>
  <div class="modal-body">
    <p>{{ responseMessage }}</p>
  </div>
  <div class="modal-footer">
    <button class="btn btn-secondary" (click)="closeAllModals()">Close</button>
  </div>
</ng-template>

<ng-template #failedModal let-modal>

  <div class="modal-header">
    <h4 class="modal-title">Delete Task</h4>
  </div>
  <div class="modal-body">
    <p>{{ responseMessage }}</p>
  </div>
  <div class="modal-footer">

    <button class="btn btn-secondary" (click)="closeAllModals()">Close</button>
  </div>
</ng-template>