<div class="container">
  <h2>Update Task</h2>
  <form [formGroup]="taskForm" (ngSubmit)="onSubmitUpdate()">
    <div class="form-group">
      <label for="taskName">Task Id:</label>
      <input class="input-field" type="text" id="taskId" name="taskId" placeholder="Enter Task Id"
        formControlName="taskId">
      <div *ngIf="taskForm.get('taskId')?.hasError('invalidUuid') && taskForm.get('taskId')?.touched" class="error">
        Task ID must be a valid UUID.
      </div>
    </div>
    <div class="form-group">
      <label for="taskName">Task Name:</label>
      <input class="input-field" type="text" id="taskName" name="taskName" placeholder="Enter Task Title"
        formControlName="taskName">
    </div>
    <div class="form-group">
      <label for="taskDescription">Task Description:</label>
      <textarea class="input-field" id="taskDescription" name="taskDescription" placeholder="Enter Task Description"
        formControlName="taskDescription"></textarea>
    </div>
    <div class="form-group">
      <label for="taskStatus">Task Status:</label>
      <select class="input-field" id="taskStatus" name="taskStatus" formControlName="taskStatus">
        <option value="PENDING">Pending</option>
        <option value="IN_PROGRESS">In Progress</option>
        <option value="COMPLETED">Completed</option>
      </select>
    </div>
    <div class="form-group">
      <label for="taskDueDate">Task Due Date:</label>
      <input class="input-field" type="date" id="taskDueDate" formControlName="taskDueDate" [min]="today">
    </div>
    <button type="submit" class="button" [disabled]="!taskForm.valid">Update Task</button>
  </form>
  <div>
    <button class="button" (click)="goToHome()">Back to Home</button>
  </div>
</div>

<ng-template #successModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Update Task</h4>
  </div>
  <div class="modal-body">
    <p>{{ responseMessage }}</p>
  </div>
  <div class="modal-footer">
    <button class="btn btn-secondary" (click)="closeAllModals()">Close</button>
  </div>
</ng-template>

<ng-template #failedModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Update Task</h4>
  </div>
  <div class="modal-body">
    <p>{{ responseMessage }}</p>
  </div>
  <div class="modal-footer">
    <button class="btn btn-secondary" (click)="closeAllModals()">Close</button>
  </div>
</ng-template>